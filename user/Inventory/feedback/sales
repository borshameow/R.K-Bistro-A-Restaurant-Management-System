-- 8. Feedback Table
CREATE TABLE feedback (
    feedback_id SERIAL PRIMARY KEY,
    user_id INT REFERENCES users(user_id),
    order_id INT REFERENCES orders(order_id),
    rating INT CHECK (rating BETWEEN 1 AND 5),
    comment TEXT,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- 9. Sales Report View (Example)
CREATE VIEW sales_report AS
SELECT
    DATE(order_time) AS date,
    COUNT(*) AS total_orders,
    SUM(total_price) AS total_revenue
FROM orders
WHERE status = 'completed'
GROUP BY DATE(order_time);
